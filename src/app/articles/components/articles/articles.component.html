<div class="page-wrapper">

    <!-- Header -->
    <app-header></app-header>

    <div class="container">

        <!-- Page Head -->
        <div class="page-head">

            <!-- Title -->
            <div class="page-title">
                <h2>Статьи</h2>
            </div>

            <!-- Filters -->
            <div class="page-filters">
                <div class="filter count">
                    <div class="filter-title">На странице</div>

                    <div class="filter-values">
                        <div (click)="setPageSize(5)" [ngClass]="{'active': pageSize == 5}">5</div>
                        <div (click)="setPageSize(10)" [ngClass]="{'active': pageSize == 10}">10</div>
                        <div (click)="setPageSize(15)" [ngClass]="{'active': pageSize == 15}">15</div>
                        <div (click)="setPageSize(30)" [ngClass]="{'active': pageSize == 30}">30</div>
                    </div>
                </div>

                <div class="filter sorter">
                    <div class="filter-values">
                        <div [ngClass]="{'active': sorter == 1}">
                            Комментариев

                            <svg *ngIf="sorter == 1 && sortBy == 1" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M8.49988 13.5L8.49988 3.52525L12.1379 7.34475C12.3284 7.54475 12.6449 7.5525 12.8449 7.362C13.0446 7.17175 13.0526 6.85525 12.8621 6.655L8.70713 2.293C8.51813 2.10425 8.26713 2 7.99988 2C7.73288 2 7.48163 2.10425 7.28438 2.30175L3.13788 6.65525C3.04563 6.752 2.99988 6.876 2.99988 7C2.99988 7.132 3.05188 7.264 3.15513 7.36225C3.35513 7.55275 3.67138 7.545 3.86188 7.345L7.49988 3.5095L7.49988 13.5C7.49988 13.776 7.72388 14 7.99988 14C8.27588 14 8.49988 13.776 8.49988 13.5Z" fill="#005264"/>
                            </svg>
                           
                            <svg *ngIf="sorter == 1 && sortBy == 2" style="transform: rotate(180deg);" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                               <path d="M8.49988 13.5L8.49988 3.52525L12.1379 7.34475C12.3284 7.54475 12.6449 7.5525 12.8449 7.362C13.0446 7.17175 13.0526 6.85525 12.8621 6.655L8.70713 2.293C8.51813 2.10425 8.26713 2 7.99988 2C7.73288 2 7.48163 2.10425 7.28438 2.30175L3.13788 6.65525C3.04563 6.752 2.99988 6.876 2.99988 7C2.99988 7.132 3.05188 7.264 3.15513 7.36225C3.35513 7.55275 3.67138 7.545 3.86188 7.345L7.49988 3.5095L7.49988 13.5C7.49988 13.776 7.72388 14 7.99988 14C8.27588 14 8.49988 13.776 8.49988 13.5Z" fill="#005264"/>
                            </svg>
                        </div>

                        <div [ngClass]="{'active': sorter == 2}">
                            Лайков

                            <svg *ngIf="sorter == 2 && sortBy == 1" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M8.49988 13.5L8.49988 3.52525L12.1379 7.34475C12.3284 7.54475 12.6449 7.5525 12.8449 7.362C13.0446 7.17175 13.0526 6.85525 12.8621 6.655L8.70713 2.293C8.51813 2.10425 8.26713 2 7.99988 2C7.73288 2 7.48163 2.10425 7.28438 2.30175L3.13788 6.65525C3.04563 6.752 2.99988 6.876 2.99988 7C2.99988 7.132 3.05188 7.264 3.15513 7.36225C3.35513 7.55275 3.67138 7.545 3.86188 7.345L7.49988 3.5095L7.49988 13.5C7.49988 13.776 7.72388 14 7.99988 14C8.27588 14 8.49988 13.776 8.49988 13.5Z" fill="#005264"/>
                            </svg>
                           
                            <svg *ngIf="sorter == 2 && sortBy == 2" style="transform: rotate(180deg);" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                               <path d="M8.49988 13.5L8.49988 3.52525L12.1379 7.34475C12.3284 7.54475 12.6449 7.5525 12.8449 7.362C13.0446 7.17175 13.0526 6.85525 12.8621 6.655L8.70713 2.293C8.51813 2.10425 8.26713 2 7.99988 2C7.73288 2 7.48163 2.10425 7.28438 2.30175L3.13788 6.65525C3.04563 6.752 2.99988 6.876 2.99988 7C2.99988 7.132 3.05188 7.264 3.15513 7.36225C3.35513 7.55275 3.67138 7.545 3.86188 7.345L7.49988 3.5095L7.49988 13.5C7.49988 13.776 7.72388 14 7.99988 14C8.27588 14 8.49988 13.776 8.49988 13.5Z" fill="#005264"/>
                            </svg>
                        </div>

                        <div [ngClass]="{'active': sorter == 3}">
                            Дата

                            <svg *ngIf="sorter == 3 && sortBy == 1" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                 <path d="M8.49988 13.5L8.49988 3.52525L12.1379 7.34475C12.3284 7.54475 12.6449 7.5525 12.8449 7.362C13.0446 7.17175 13.0526 6.85525 12.8621 6.655L8.70713 2.293C8.51813 2.10425 8.26713 2 7.99988 2C7.73288 2 7.48163 2.10425 7.28438 2.30175L3.13788 6.65525C3.04563 6.752 2.99988 6.876 2.99988 7C2.99988 7.132 3.05188 7.264 3.15513 7.36225C3.35513 7.55275 3.67138 7.545 3.86188 7.345L7.49988 3.5095L7.49988 13.5C7.49988 13.776 7.72388 14 7.99988 14C8.27588 14 8.49988 13.776 8.49988 13.5Z" fill="#005264"/>
                            </svg>
                            
                            <svg *ngIf="sorter == 3 && sortBy == 2" style="transform: rotate(180deg);" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M8.49988 13.5L8.49988 3.52525L12.1379 7.34475C12.3284 7.54475 12.6449 7.5525 12.8449 7.362C13.0446 7.17175 13.0526 6.85525 12.8621 6.655L8.70713 2.293C8.51813 2.10425 8.26713 2 7.99988 2C7.73288 2 7.48163 2.10425 7.28438 2.30175L3.13788 6.65525C3.04563 6.752 2.99988 6.876 2.99988 7C2.99988 7.132 3.05188 7.264 3.15513 7.36225C3.35513 7.55275 3.67138 7.545 3.86188 7.345L7.49988 3.5095L7.49988 13.5C7.49988 13.776 7.72388 14 7.99988 14C8.27588 14 8.49988 13.776 8.49988 13.5Z" fill="#005264"/>
                            </svg>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Page Content -->
        <div class="page-content">
            <div class="articles-list" *ngIf="articles">
                <article *ngFor="let article of articles">
                    <div class="article-top">
                        <div class="article-image">
                            <div class="image-block">
                                <img src="../../../../assets/images/article-1.png" />
                            </div>
                        </div>

                        <div class="article-content">
                            <div class="article-date">
                                <span class="icon">
                                    <img src="../../../../assets/images/icon-calendar.svg" alt="" />
                                </span>

                                {{ article.date | date: 'dd MMM yyy' }}
                            </div>

                            <div class="article-title" [routerLink]="['/articles', article.id]">
                                {{ article.title }}
                            </div>

                            <div class="article-short-text">
                                {{ article.shortText }}
                            </div>

                            <div class="article-actions">
                                <div class="article-full" [routerLink]="['/articles', article.id]">
                                    Читать полностью
                                </div>

                                <div class="article-author" [routerLink]="['/specialists', article.author.id]">
                                    <img [src]="article.author.photo.url" />

                                    {{ article.author.user.firstName }} {{ article.author.user.lastName }}
                                </div>

                                <div class="article-likes" [ngClass]="{'liked': article.isLiked}" (click)="likeArticle(article.id)">
                                    {{ article.likes.length }}

                                    <svg *ngIf="!article.isLiked" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M4.16952 2.04431C2.69139 2.30367 1.20039 3.73521 1.20039 6.43427C1.20039 7.40787 1.60689 8.41964 2.25943 9.41028C2.90983 10.3977 3.7843 11.3331 4.67071 12.1458C5.55553 12.9571 6.4421 13.6368 7.10835 14.1141C7.44111 14.3525 7.71804 14.5398 7.91116 14.6671C7.94327 14.6883 7.97305 14.7078 8.00039 14.7256C8.02772 14.7078 8.05751 14.6883 8.08962 14.6671C8.28274 14.5398 8.55967 14.3525 8.89244 14.1141C9.55868 13.6368 10.4453 12.9571 11.3301 12.1458C12.2165 11.3331 13.0909 10.3977 13.7413 9.41028C14.3939 8.41964 14.8004 7.40787 14.8004 6.43427C14.8004 3.73521 13.3094 2.30367 11.8313 2.04432C11.0828 1.91299 10.3199 2.07423 9.70037 2.53131C9.08314 2.9867 8.58071 3.75678 8.39515 4.89183H7.60563C7.42007 3.75677 6.91764 2.9867 6.30041 2.53131C5.68089 2.07422 4.91795 1.91299 4.16952 2.04431ZM8.00039 15.2002C7.79055 15.5407 7.79045 15.5406 7.79032 15.5406L7.78993 15.5403L7.78865 15.5395L7.78416 15.5367L7.76752 15.5264C7.75308 15.5173 7.73203 15.5041 7.70481 15.4868C7.65037 15.4521 7.57121 15.4012 7.47087 15.335C7.27024 15.2028 6.98467 15.0096 6.64244 14.7645C5.95868 14.2746 5.04525 13.5746 4.13007 12.7355C3.21648 11.8979 2.29095 10.9124 1.59135 9.85035C0.893891 8.79153 0.400391 7.62527 0.400391 6.43427C0.400385 3.41224 2.10938 1.59357 4.03126 1.25635C4.98282 1.08939 5.96989 1.29327 6.77537 1.88756C7.27966 2.25963 7.70203 2.77652 8.00039 3.43155C8.29875 2.77652 8.72112 2.25963 9.22541 1.88756C10.0309 1.29328 11.018 1.08939 11.9695 1.25635C13.8914 1.59357 15.6004 3.41224 15.6004 6.43427C15.6004 7.62527 15.1069 8.79153 14.4094 9.85035C13.7098 10.9124 12.7843 11.8979 11.8707 12.7355C10.9555 13.5746 10.0421 14.2746 9.35835 14.7645C9.01611 15.0096 8.73054 15.2028 8.52991 15.335C8.42957 15.4012 8.35042 15.4521 8.29597 15.4868C8.26875 15.5041 8.2477 15.5173 8.23327 15.5264L8.21663 15.5367L8.21213 15.5395L8.21085 15.5403L8.21046 15.5406C8.21033 15.5406 8.21023 15.5407 8.00039 15.2002ZM8.00039 15.2002L8.21023 15.5407L8.00039 15.67L7.79055 15.5407L8.00039 15.2002Z" fill="#A9A9A9"/>
                                    </svg>
                                    
                                    <svg *ngIf="article.isLiked" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M4.16952 2.04431C2.69139 2.30367 1.20039 3.73521 1.20039 6.43427C1.20039 7.40787 1.60689 8.41964 2.25943 9.41028C2.90983 10.3977 3.7843 11.3331 4.67071 12.1458C5.55553 12.9571 6.4421 13.6368 7.10835 14.1141C7.44111 14.3525 7.71804 14.5398 7.91116 14.6671C7.94327 14.6883 7.97305 14.7078 8.00039 14.7256C8.02772 14.7078 8.05751 14.6883 8.08962 14.6671C8.28274 14.5398 8.55967 14.3525 8.89244 14.1141C9.55868 13.6368 10.4453 12.9571 11.3301 12.1458C12.2165 11.3331 13.0909 10.3977 13.7413 9.41028C14.3939 8.41964 14.8004 7.40787 14.8004 6.43427C14.8004 3.73521 13.3094 2.30367 11.8313 2.04432C11.0828 1.91299 10.3199 2.07423 9.70037 2.53131C9.08314 2.9867 8.58071 3.75678 8.39515 4.89183H7.60563C7.42007 3.75677 6.91764 2.9867 6.30041 2.53131C5.68089 2.07422 4.91795 1.91299 4.16952 2.04431ZM8.00039 15.2002C7.79055 15.5407 7.79045 15.5406 7.79032 15.5406L7.78993 15.5403L7.78865 15.5395L7.78416 15.5367L7.76752 15.5264C7.75308 15.5173 7.73203 15.5041 7.70481 15.4868C7.65037 15.4521 7.57121 15.4012 7.47087 15.335C7.27024 15.2028 6.98467 15.0096 6.64244 14.7645C5.95868 14.2746 5.04525 13.5746 4.13007 12.7355C3.21648 11.8979 2.29095 10.9124 1.59135 9.85035C0.893891 8.79153 0.400391 7.62527 0.400391 6.43427C0.400385 3.41224 2.10938 1.59357 4.03126 1.25635C4.98282 1.08939 5.96989 1.29327 6.77537 1.88756C7.27966 2.25963 7.70203 2.77652 8.00039 3.43155C8.29875 2.77652 8.72112 2.25963 9.22541 1.88756C10.0309 1.29328 11.018 1.08939 11.9695 1.25635C13.8914 1.59357 15.6004 3.41224 15.6004 6.43427C15.6004 7.62527 15.1069 8.79153 14.4094 9.85035C13.7098 10.9124 12.7843 11.8979 11.8707 12.7355C10.9555 13.5746 10.0421 14.2746 9.35835 14.7645C9.01611 15.0096 8.73054 15.2028 8.52991 15.335C8.42957 15.4012 8.35042 15.4521 8.29597 15.4868C8.26875 15.5041 8.2477 15.5173 8.23327 15.5264L8.21663 15.5367L8.21213 15.5395L8.21085 15.5403L8.21046 15.5406C8.21033 15.5406 8.21023 15.5407 8.00039 15.2002ZM8.00039 15.2002L8.21023 15.5407L8.00039 15.67L7.79055 15.5407L8.00039 15.2002Z" fill="#D50026"/>
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M8.21085 15.5403L8.00039 15.2002L7.79032 15.5406L8.00039 15.67L8.21085 15.5403Z" fill="#D50026"/>
                                        <path d="M1.20039 6.43427C1.20039 3.73521 2.69139 2.30367 4.16952 2.04431C4.91795 1.91299 5.68089 2.07422 6.30041 2.53131C6.91764 2.9867 7.42007 3.75677 7.60563 4.89183H8.39515C8.58071 3.75678 9.08314 2.9867 9.70037 2.53131C10.3199 2.07423 11.0828 1.91299 11.8313 2.04432C13.3094 2.30367 14.8004 3.73521 14.8004 6.43427C14.8004 7.40787 14.3939 8.41964 13.7413 9.41028C13.0909 10.3977 12.2165 11.3331 11.3301 12.1458C10.4453 12.9571 9.55868 13.6368 8.89244 14.1141C8.55967 14.3525 8.28274 14.5398 8.08962 14.6671C8.05751 14.6883 8.02772 14.7078 8.00039 14.7256C7.97305 14.7078 7.94327 14.6883 7.91116 14.6671C7.71804 14.5398 7.44111 14.3525 7.10835 14.1141C6.4421 13.6368 5.55553 12.9571 4.67071 12.1458C3.7843 11.3331 2.90983 10.3977 2.25943 9.41028C1.60689 8.41964 1.20039 7.40787 1.20039 6.43427Z" fill="#D50026"/>
                                    </svg>                                        
                                </div>

                                <div class="article-comments">
                                    {{ article.comments.length }}

                                    <img src="../../../../assets/images/icon-comment.svg" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="article-bottom">
                        <div class="likes-block">
                            <div class="article-likes">
                                17

                                <img src="../../../../assets/images/icon-like.svg" />
                            </div>

                            <div class="article-comments">
                                28

                                <img src="../../../../assets/images/icon-comment.svg" />
                            </div>
                        </div>

                        <div class="actions-block">
                            <div class="article-author" [routerLink]="['/specialists', article.author.id]">
                                <img [src]="article.author.photo.url" />

                                {{ article.author.user.firstName }} {{ article.author.user.lastName }}
                            </div>

                            <div class="article-full" [routerLink]="['/articles', article.id]">
                                Читать полностью
                            </div>
                        </div>
                    </div>
                </article>
            </div>

            <!-- Pagination -->
            <div class="articles-pagination">
                <app-pagination [currentPage]="pageNumber" [totalPages]="totalPages" (onChanged)="setPageNumber($event)"></app-pagination>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <app-footer></app-footer>
</div>