<div class="page-wrapper">

    <!-- Header -->
    <app-header></app-header>

    <div class="container">

        <div class="button-back">
            <button class="button-transparent" [routerLink]="['/specialists']">
                <div class="icon">
                    <img src="../../../../assets/images/icon-arrow-left.svg" />
                </div>

                Назад
            </button>
        </div>

        <div class="article-container">

            <!-- Specialist Block -->
            <div class="specialist-block" *ngIf="specialist">

                <!-- Photo -->
                <div class="specialist-photo">
                    <img [src]="specialist.photo.url" />
                </div>

                <!-- Info -->
                <div class="specialist-info">
                    <div class="specialist-name">
                        {{ specialist.user.firstName }} {{ specialist.user.lastName }}
                    </div>

                    <div class="specialist-stat">
                        <div class="price">
                            {{ specialist.price | number:'':'fr' }} ₽
                        </div>

                        <div class="rating">
                            <div class="rating-stars" [innerHTML]="getRatingStars(specialist.rating)"></div>

                            <div class="rating-score">
                                {{ specialist.rating }}
                            </div>
                        </div>
                    </div>

                    <div class="specialist-description">
                        С другой стороны консультация с широким активом представляет собой интересный эксперимент
                        проверки систем массового участия. Разнообразный и богатый опыт новая модель организационной
                        деятельности обеспечивает широкому кругу участие.
                    </div>

                    <div class="choose-button">
                        <button type="button">
                            Выбрать
                            <img src="../../../../assets/images/icon-arrow-right.svg" alt="" />
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Reviews -->
    <div class="reviews" *ngIf="positiveReviews && neutralReviews && negativeReviews">
        <div class="reviews-head">
            <div class="article-container">
                <div class="reviews-switcher">
                    <ul>
                        <li [ngClass]="{'active': activeReviewsTab == 1}" (click)="changeReviewsTab(1)">
                            Положительные отзывы
                            <div class="count">{{ positiveReviews.length }}</div>
                        </li>

                        <li [ngClass]="{'active': activeReviewsTab == 2}" (click)="changeReviewsTab(2)">
                            Нейтральные отзывы
                            <div class="count">{{ neutralReviews.length }}</div>
                        </li>

                        <li [ngClass]="{'active': activeReviewsTab == 3}" (click)="changeReviewsTab(3)">
                            Отрицательные отзывы
                            <div class="count">{{ negativeReviews.length }}</div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="reviews-content">
            <div class="article-container">

                <div class="reviews-list" *ngIf="activeReviewsTab == 1">
                    <div class="review-block" *ngFor="let review of positiveReviews">
                        <div class="review-block-head">
                            <div class="reviewer-name">
                                {{ review.session.problem.user.firstName }} {{ review.session.problem.user.lastName }}
                            </div>
    
                            <div class="review-score" [innerHTML]="getRatingStars(review.score)"></div>
                        </div>
    
                        <div class="review-text">
                            {{ review.text }}
                        </div>
    
                        <div class="review-date">
                            <span class="icon">
                                <img src="../../../../assets/images/icon-calendar.svg" alt="" />
                            </span>
    
                            {{ review.session.date | date: 'dd MMM yyy' }}
                        </div>
                    </div>
                </div>

                <div class="reviews-list" *ngIf="activeReviewsTab == 2">
                    <div class="review-block" *ngFor="let review of neutralReviews">
                        <div class="review-block-head">
                            <div class="reviewer-name">
                                {{ review.session.problem.user.firstName }} {{ review.session.problem.user.lastName }}
                            </div>
    
                            <div class="review-score" [innerHTML]="getRatingStars(review.score)"></div>
                        </div>
    
                        <div class="review-text">
                            {{ review.text }}
                        </div>
    
                        <div class="review-date">
                            <span class="icon">
                                <img src="../../../../assets/images/icon-calendar.svg" alt="" />
                            </span>
    
                            {{ review.session.date | date: 'dd MMM yyy' }}
                        </div>
                    </div>
                </div>

                <div class="reviews-list" *ngIf="activeReviewsTab == 3">
                    <div class="review-block" *ngFor="let review of negativeReviews">
                        <div class="review-block-head">
                            <div class="reviewer-name">
                                {{ review.session.problem.user.firstName }} {{ review.session.problem.user.lastName }}
                            </div>
    
                            <div class="review-score" [innerHTML]="getRatingStars(review.score)"></div>
                        </div>
    
                        <div class="review-text">
                            {{ review.text }}
                        </div>
    
                        <div class="review-date">
                            <span class="icon">
                                <img src="../../../../assets/images/icon-calendar.svg" alt="" />
                            </span>
    
                            {{ review.session.date | date: 'dd MMM yyy' }}
                        </div>
                    </div>
                </div>

                <!-- Pagination -->
                <div class="reviews-pagination">
                    <app-pagination></app-pagination>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <app-footer></app-footer>
</div>